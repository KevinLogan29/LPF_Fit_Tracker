<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Limitless Performance and Fitness</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: black; color: #7ed957; }
    header { background: black; border-bottom: 2px solid #7ed957; padding: 10px; text-align: center; }
    nav { display: flex; justify-content: center; gap: 10px; padding: 10px; border-bottom: 1px solid #7ed957; flex-wrap: wrap; }
    nav a { color: #7ed957; text-decoration: none; padding: 5px 10px; border: 1px solid #7ed957; border-radius: 4px; }
    nav a:hover { background: #7ed957; color: black; }
    .page { display: none; padding: 20px; }
    .active { display: block; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; border: 1px solid #7ed957; }
    th, td { border: 1px solid #7ed957; padding: 6px; text-align: left; color: #7ed957; background: black; }
    th { background: black; }
    input, select, textarea { width: 100%; padding: 5px; box-sizing: border-box; background: black; color: #7ed957; border: 1px solid #7ed957; }
    button { background: black; color: #7ed957; padding: 6px 10px; border: 1px solid #7ed957; border-radius: 4px; cursor: pointer; }
    button:hover { background: #7ed957; color: black; }
    #total-volume { font-weight: bold; }
    .delta { color: #7ed957; }
    .delta.positive { color: #7ed957; }
    .delta.negative { color: #d9577e; }
    .notes { background: #111; padding: 10px; margin: 10px 0; border-radius: 4px; border: 1px solid #7ed957; }
    .date-input, .user-id-input { margin-bottom: 10px; }
    #analytics table { margin-top: 20px; }
  </style>
</head>
<body>
  <header>
    <h1>Limitless Performance and Fitness</h1>
  </header>
  <nav>
    <a href="#" onclick="showPage('workout')">Workout Log</a>
    <a href="#" onclick="showPage('daily')">Daily Comments</a>
    <a href="#" onclick="showPage('nutrition')">Nutrition</a>
    <a href="#" onclick="showPage('cardio')">Cardio</a>
    <a href="#" onclick="showPage('analytics')">Analytics</a>
  </nav>

  <div id="workout" class="page active">
    <h2>Workout Log</h2>
    <div class="user-id-input">
      <label for="user_id">User ID (e.g., email):</label>
      <input type="text" id="user_id" placeholder="Enter your ID" required>
    </div>
    <div class="date-input">
      <label for="workout-date">Date:</label>
      <input type="date" id="workout-date">
    </div>
    <table id="workout-table">
      <thead>
        <tr>
          <th>Exercise</th><th>Sets</th><th>Weight</th><th>âˆ†Weight</th><th>Reps</th>
          <th>RIR</th><th>Pump</th><th>Felt</th><th>Rest</th><th>e1RM</th><th>Actions</th>
        </tr>
      </thead>
      <tbody id="table-body"></tbody>
      <tfoot>
        <tr>
          <td colspan="9" id="total-volume">Total Volume: 0 lbs | Total Sets: 0 | Volume Category: Low</td>
          <td colspan="2">
            <button onclick="addSet()">Add Set</button>
            <button onclick="saveWorkout()">Save Workout</button>
          </td>
        </tr>
      </tfoot>
    </table>
    <h3>Notes</h3>
    <textarea id="notes" rows="4" placeholder="Additional notes..."></textarea>
  </div>

  <div id="daily" class="page">
    <h2>Daily Comments</h2>
    <div class="user-id-input">
      <label for="daily-user_id">User ID:</label>
      <input type="text" id="daily-user_id" placeholder="Enter your ID" required>
    </div>
    <div class="date-input">
      <label for="daily-date">Date:</label>
      <input type="date" id="daily-date">
    </div>
    <table id="daily-table">
      <thead>
        <tr>
          <th>Pain</th><th>Warm-up</th><th>Tired</th><th>Sore</th><th>Desire</th><th>Notes</th><th>Actions</th>
        </tr>
      </thead>
      <tbody id="daily-table-body"></tbody>
      <tfoot>
        <tr>
          <td colspan="7">
            <button onclick="addDaily()">Add Daily Log</button>
            <button onclick="saveDaily()">Save Daily Log</button>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div id="nutrition" class="page">
    <h2>Nutrition</h2>
    <div class="user-id-input">
      <label for="nutrition-user_id">User ID:</label>
      <input type="text" id="nutrition-user_id" placeholder="Enter your ID" required>
    </div>
    <div class="date-input">
      <label for="nutrition-date">Date:</label>
      <input type="date" id="nutrition-date">
    </div>
    <table id="nutrition-table">
      <thead>
        <tr>
          <th>Calories</th><th>Weight</th><th>Steps</th><th>Fat</th><th>Carbs</th><th>Protein</th>
          <th>Sleep</th><th>RHR</th><th>HRV</th><th>Actions</th>
        </tr>
      </thead>
      <tbody id="nutrition-table-body"></tbody>
      <tfoot>
        <tr>
          <td colspan="9">
            <button onclick="addNutrition()">Add Nutrition Log</button>
            <button onclick="saveNutrition()">Save Nutrition Log</button>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div id="cardio" class="page">
    <h2>Cardio</h2>
    <div class="user-id-input">
      <label for="cardio-user_id">User ID:</label>
      <input type="text" id="cardio-user_id" placeholder="Enter your ID" required>
    </div>
    <div class="date-input">
      <label for="cardio-date">Date:</label>
      <input type="date" id="cardio-date">
    </div>
    <table id="cardio-table">
      <thead>
        <tr>
          <th>Exercise</th><th>Minutes</th><th>Speed</th><th>Incline</th><th>Avg HR</th><th>Actions</th>
        </tr>
      </thead>
      <tbody id="cardio-table-body"></tbody>
      <tfoot>
        <tr>
          <td colspan="6">
            <button onclick="addCardio()">Add Cardio Log</button>
            <button onclick="saveCardio()">Save Cardio Log</button>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>

  <div id="analytics" class="page">
    <h2>Analytics</h2>
    <div class="user-id-input">
      <label for="analytics-user_id">User ID:</label>
      <input type="text" id="analytics-user_id" placeholder="Enter your ID" required>
    </div>
    <canvas id="e1rmChart"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  <script>
    const API_URL = 'http://localhost:8000'; // Local FastAPI server
    let setNumber = 0;
    let e1rmChart;

    // Workout Log
    function addSet(ex = "Exercise", wt = "", reps = "", rir = "", pump = "No", felt = "", rest = 120, e1rm = 0) {
      setNumber++;
      const tr = document.createElement("tr");
      tr.className = "set-row";
      tr.innerHTML = `
        <td><input value="${ex}" onchange="calculateAll()"></td>
        <td>${setNumber}</td>
        <td><input type="number" min="0" value="${wt}" onchange="calculateAll()"></td>
        <td><span class="delta"></span></td>
        <td><input type="number" min="0" value="${reps}" onchange="calculateAll()"></td>
        <td><input type="number" min="0" max="4" value="${rir}" onchange="calculateAll()"></td>
        <td><select onchange="calculateAll()"><option ${pump === "No" ? "selected" : ""}>No</option><option ${pump === "Yes" ? "selected" : ""}>Yes</option></select></td>
        <td><input value="${felt}"></td>
        <td><input type="number" min="0" value="${rest}" onchange="calculateAll()"></td>
        <td><span>${e1rm}</span></td>
        <td><button onclick="this.closest('tr').remove();updateSetNumbers();calculateAll()">Remove</button></td>`;
      document.getElementById("table-body").appendChild(tr);
      calculateAll();
    }

    function updateSetNumbers() {
      const rows = document.querySelectorAll("#table-body .set-row");
      rows.forEach((r, i) => r.cells[1].textContent = i + 1);
      setNumber = rows.length;
    }

    function calculateAll() {
      let vol = 0, sets = 0;
      let prevWeight = 0;
      document.querySelectorAll("#table-body .set-row").forEach((r, index) => {
        const w = parseFloat(r.cells[2].querySelector("input").value) || 0;
        const reps = parseInt(r.cells[4].querySelector("input").value) || 0;
        const rirI = r.cells[5].querySelector("input");
        let rir = parseInt(rirI.value) || 0;
        rir = Math.max(0, Math.min(4, rir));
        rirI.value = rir;
        const deltaSpan = r.cells[3].querySelector(".delta");
        if (index > 0) {
          const delta = w - prevWeight;
          deltaSpan.textContent = delta > 0 ? `+${delta}` : delta;
          deltaSpan.className = `delta ${delta > 0 ? 'positive' : (delta < 0 ? 'negative' : '')}`;
        } else {
          deltaSpan.textContent = '';
        }
        prevWeight = w;
        if (w && reps) {
          vol += w * reps;
          sets++;
          r.cells[9].querySelector("span").textContent = Math.round(w * (1 + reps / 30)); // Epley formula
        }
      });
      document.getElementById("total-volume").innerHTML = `Total Volume: ${vol} lbs | Total Sets: ${sets} | Volume Category: ${getVolumeCategory(sets)}`;
    }

    function getVolumeCategory(sets) {
      if (sets < 10) return 'Low';
      if (sets < 20) return 'Medium';
      return 'High';
    }

    async function saveWorkout() {
      const user_id = document.getElementById("user_id").value.trim();
      if (!user_id) {
        alert("Please enter a User ID.");
        return;
      }
      const rows = [];
      document.querySelectorAll("#table-body .set-row").forEach(r => {
        const weight = parseFloat(r.cells[2].querySelector("input").value) || 0;
        const reps = parseInt(r.cells[4].querySelector("input").value) || 0;
        rows.push({
          exercise: r.cells[0].querySelector("input").value.trim(),
          set_number: parseInt(r.cells[1].textContent),
          weight,
          reps,
          rir: parseInt(r.cells[5].querySelector("input").value) || 0,
          pump: r.cells[6].querySelector("select").value,
          felt: r.cells[7].querySelector("input").value.trim(),
          rest: parseInt(r.cells[8].querySelector("input").value) || 0,
          e1rm: parseFloat(r.cells[9].querySelector("span").textContent) || 0
        });
      });
      if (rows.length === 0) {
        alert("Please add at least one set.");
        return;
      }
      const notes = document.getElementById("notes").value.trim();
      const dateInput = document.getElementById("workout-date").value;
      const dateKey = dateInput || new Date().toISOString().split("T")[0];
      try {
        const response = await fetch(`${API_URL}/workouts/`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ user_id, date: dateKey, rows, notes })
        });
        if (response.ok) {
          alert("Workout saved!");
        } else {
          throw new Error('Failed to save workout');
        }
      } catch (error) {
        console.error("Error saving workout:", error);
        alert("Error saving workout. Please check the server.");
      }
    }

    // Daily Log
    function addDaily(pain = "", warm = "", tired = "", sore = "", desire = "", notes = "") {
      const tr = document.createElement("tr");
      tr.className = "daily-row";
      tr.innerHTML = `
        <td><input value="${pain}" placeholder="e.g., Mild"></td>
        <td><input value="${warm}" placeholder="e.g., Light"></td>
        <td><input value="${tired}" placeholder="e.g., Moderate"></td>
        <td><input value="${sore}" placeholder="e.g., None"></td>
        <td><input value="${desire}" placeholder="e.g., High"></td>
        <td><input value="${notes}" placeholder="Additional notes"></td>
        <td><button onclick="this.closest('tr').remove()">Remove</button></td>`;
      document.getElementById("daily-table-body").appendChild(tr);
    }

    async function saveDaily() {
      const user_id = document.getElementById("daily-user_id").value.trim();
      if (!user_id) {
        alert("Please enter a User ID.");
        return;
      }
      const dateInput = document.getElementById("daily-date").value;
      const dateKey = dateInput || new Date().toISOString().split("T")[0];
      const rows = document.querySelectorAll("#daily-table-body .daily-row");
      if (rows.length === 0) {
        alert("Please add a daily log entry.");
        return;
      }
      const data = {
        user_id,
        date: dateKey,
        pain: rows[0].cells[0].querySelector("input").value.trim(),
        warm: rows[0].cells[1].querySelector("input").value.trim(),
        tired: rows[0].cells[2].querySelector("input").value.trim(),
        sore: rows[0].cells[3].querySelector("input").value.trim(),
        desire: rows[0].cells[4].querySelector("input").value.trim(),
        notes: rows[0].cells[5].querySelector("input").value.trim()
      };
      try {
        const response = await fetch(`${API_URL}/daily/`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        if (response.ok) {
          alert("Daily log saved!");
        } else {
          throw new Error('Failed to save daily log');
        }
      } catch (error) {
        console.error("Error saving daily log:", error);
        alert("Error saving daily log. Please check the server.");
      }
    }

    // Nutrition Log
    function addNutrition(cals = "", weight = "", steps = "", fat = "", carbs = "", protein = "", sleep = "", rhr = "", hrv = "") {
      const tr = document.createElement("tr");
      tr.className = "nutrition-row";
      tr.innerHTML = `
        <td><input type="number" min="0" value="${cals}" placeholder="kcal"></td>
        <td><input type="number" min="0" step="0.1" value="${weight}" placeholder="lbs"></td>
        <td><input type="number" min="0" value="${steps}" placeholder="steps"></td>
        <td><input type="number" min="0" value="${fat}" placeholder="g"></td>
        <td><input type="number" min="0" value="${carbs}" placeholder="g"></td>
        <td><input type="number" min="0" value="${protein}" placeholder="g"></td>
        <td><input type="number" min="0" step="0.1" value="${sleep}" placeholder="hrs"></td>
        <td><input type="number" min="0" value="${rhr}" placeholder="bpm"></td>
        <td><input type="number" min="0" value="${hrv}" placeholder="ms"></td>
        <td><button onclick="this.closest('tr').remove()">Remove</button></td>`;
      document.getElementById("nutrition-table-body").appendChild(tr);
    }

    async function saveNutrition() {
      const user_id = document.getElementById("nutrition-user_id").value.trim();
      if (!user_id) {
        alert("Please enter a User ID.");
        return;
      }
      const dateInput = document.getElementById("nutrition-date").value;
      const dateKey = dateInput || new Date().toISOString().split("T")[0];
      const rows = document.querySelectorAll("#nutrition-table-body .nutrition-row");
      if (rows.length === 0) {
        alert("Please add a nutrition log entry.");
        return;
      }
      const data = {
        user_id,
        date: dateKey,
        calories: parseInt(rows[0].cells[0].querySelector("input").value) || 0,
        weight: parseFloat(rows[0].cells[1].querySelector("input").value) || 0,
        steps: parseInt(rows[0].cells[2].querySelector("input").value) || 0,
        fat: parseInt(rows[0].cells[3].querySelector("input").value) || 0,
        carbs: parseInt(rows[0].cells[4].querySelector("input").value) || 0,
        protein: parseInt(rows[0].cells[5].querySelector("input").value) || 0,
        sleep: parseFloat(rows[0].cells[6].querySelector("input").value) || 0,
        rhr: parseInt(rows[0].cells[7].querySelector("input").value) || 0,
        hrv: parseInt(rows[0].cells[8].querySelector("input").value) || 0
      };
      try {
        const response = await fetch(`${API_URL}/nutrition/`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        if (response.ok) {
          alert("Nutrition log saved!");
        } else {
          throw new Error('Failed to save nutrition log');
        }
      } catch (error) {
        console.error("Error saving nutrition log:", error);
        alert("Error saving nutrition log. Please check the server.");
      }
    }

    // Cardio Log
    function addCardio(exercise = "", minutes = "", speed = "", incline = "", hr_avg = "") {
      const tr = document.createElement("tr");
      tr.className = "cardio-row";
      tr.innerHTML = `
        <td><input value="${exercise}" placeholder="e.g., Treadmill"></td>
        <td><input type="number" min="0" value="${minutes}" placeholder="min"></td>
        <td><input type="number" min="0" step="0.1" value="${speed}" placeholder="mph"></td>
        <td><input type="number" min="0" step="0.1" value="${incline}" placeholder="%"></td>
        <td><input type="number" min="0" value="${hr_avg}" placeholder="bpm"></td>
        <td><button onclick="this.closest('tr').remove()">Remove</button></td>`;
      document.getElementById("cardio-table-body").appendChild(tr);
    }

    async function saveCardio() {
      const user_id = document.getElementById("cardio-user_id").value.trim();
      if (!user_id) {
        alert("Please enter a User ID.");
        return;
      }
      const dateInput = document.getElementById("cardio-date").value;
      const dateKey = dateInput || new Date().toISOString().split("T")[0];
      const rows = document.querySelectorAll("#cardio-table-body .cardio-row");
      if (rows.length === 0) {
        alert("Please add a cardio log entry.");
        return;
      }
      for (const row of rows) {
        const data = {
          user_id,
          date: dateKey,
          exercise: row.cells[0].querySelector("input").value.trim(),
          minutes: parseInt(row.cells[1].querySelector("input").value) || 0,
          speed: parseFloat(row.cells[2].querySelector("input").value) || 0,
          incline: parseFloat(row.cells[3].querySelector("input").value) || 0,
          hr_avg: parseInt(row.cells[4].querySelector("input").value) || 0
        };
        try {
          const response = await fetch(`${API_URL}/cardio/`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });
          if (!response.ok) {
            throw new Error('Failed to save cardio log');
          }
        } catch (error) {
          console.error("Error saving cardio log:", error);
          alert("Error saving cardio log. Please check the server.");
          return;
        }
      }
      alert("Cardio log saved!");
    }

    // Analytics
    async function loadAnalytics() {
      const user_id = document.getElementById("analytics-user_id").value.trim();
      if (!user_id) {
        alert("Please enter a User ID to view analytics.");
        return;
      }
      try {
        const response = await fetch(`${API_URL}/workouts/history/${user_id}`);
        const data = await response.json();
        const dates = [];
        const volumes = [];
        data.forEach(d => {
          let vol = 0;
          d.rows.forEach(r => {
            vol += (r.weight || 0) * (r.reps || 0);
          });
          dates.push(d.date);
          volumes.push(vol);
        });
        const ctx = document.getElementById("e1rmChart").getContext("2d");
        if (e1rmChart) e1rmChart.destroy();
        e1rmChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: dates,
            datasets: [{
              label: "Workout Volume",
              data: volumes,
              borderColor: "#7ed957",
              backgroundColor: "rgba(126,217,87,0.2)",
              tension: 0.3
            }]
          },
          options: {
            scales: {
              x: { type: "time", time: { unit: "day" }, title: { display: true, text: "Date" } },
              y: { title: { display: true, text: "Volume (lbs)" } }
            }
          }
        });
      } catch (error) {
        console.error("Error loading analytics:", error);
        alert("Error loading analytics. Please check the server.");
      }
    }

    // Page Switching
    function showPage(id) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      if (id === "analytics") loadAnalytics();
      if (id === "workout") setWorkoutDate();
      if (id === "daily") setDailyDate();
      if (id === "nutrition") setNutritionDate();
      if (id === "cardio") setCardioDate();
    }

    function setWorkoutDate() {
      document.getElementById("workout-date").value = new Date().toISOString().split('T')[0];
    }

    function setDailyDate() {
      document.getElementById("daily-date").value = new Date().toISOString().split('T')[0];
    }

    function setNutritionDate() {
      document.getElementById("nutrition-date").value = new Date().toISOString().split('T')[0];
    }

    function setCardioDate() {
      document.getElementById("cardio-date").value = new Date().toISOString().split('T')[0];
    }

    // Initialize
    window.onload = function() {
      setWorkoutDate();
      setDailyDate();
      setNutritionDate();
      setCardioDate();
      addSet("Lowbar Squat", 315, 5, 2, "No", "Quads", 120, 354);
      addDaily("Mild discomfort", "Light", "A little tired", "Mild soreness", "High", "Upper");
      addNutrition(2500, 180, 10000, 80, 300, 150, 7.5, 60, 50);
      addCardio("Treadmill", 30, 3, 3, 122);
      calculateAll();
    };
  </script>
</body>
</html>

// ----------------------------
// API configuration
// ----------------------------
const API_URL = "http://127.0.0.1:8000"; // Change to deployed backend if needed

// ----------------------------
// Helper functions
// ----------------------------

// Send workout
async function sendWorkoutToAPI(userId, date, notes, rows) {
    const workoutData = {
        user_id: userId,
        date: date,
        notes: notes,
        rows: rows.map(row => ({
            exercise: row.exercise,
            set_number: row.set_number,
            weight: row.weight,
            reps: row.reps,
            rir: row.rir,
            pump: row.pump || "",
            felt: row.felt || "",
            rest: row.rest,
            e1rm: row.e1rm || null
        }))
    };

    try {
        const response = await fetch(`${API_URL}/workouts/`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(workoutData)
        });
        const data = await response.json();
        console.log("Workout saved:", data);
        alert(`Workout saved! ID: ${data.workout_id}`);
    } catch (err) {
        console.error("Error saving workout:", err);
        alert("Failed to save workout to server.");
    }
}

// Send daily log
async function sendDailyToAPI(userId, date, dailyLog) {
    const payload = {
        user_id: userId,
        date: date,
        pain: dailyLog.pain || "",
        warm: dailyLog.warm || "",
        tired: dailyLog.tired || "",
        sore: dailyLog.sore || "",
        desire: dailyLog.desire || "",
        notes: dailyLog.notes || ""
    };

    try {
        const response = await fetch(`${API_URL}/daily/`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        console.log("Daily log saved:", data);
    } catch (err) {
        console.error("Error saving daily log:", err);
    }
}

// Send nutrition log
async function sendNutritionToAPI(userId, date, nutrition) {
    const payload = {
        user_id: userId,
        date: date,
        calories: nutrition.calories || 0,
        weight: nutrition.weight || 0,
        steps: nutrition.steps || 0,
        fat: nutrition.fat || 0,
        carbs: nutrition.carbs || 0,
        protein: nutrition.protein || 0,
        sleep: nutrition.sleep || 0,
        rhr: nutrition.rhr || 0,
        hrv: nutrition.hrv || 0
    };

    try {
        const response = await fetch(`${API_URL}/nutrition/`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        console.log("Nutrition log saved:", data);
    } catch (err) {
        console.error("Error saving nutrition log:", err);
    }
}

// Send cardio log
async function sendCardioToAPI(userId, date, cardio) {
    const payload = {
        user_id: userId,
        date: date,
        exercise: cardio.exercise,
        minutes: cardio.minutes || 0,
        speed: cardio.speed || 0,
        incline: cardio.incline || 0,
        hr_avg: cardio.hr_avg || 0
    };

    try {
        const response = await fetch(`${API_URL}/cardio/`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        });
        const data = await response.json();
        console.log("Cardio log saved:", data);
    } catch (err) {
        console.error("Error saving cardio log:", err);
    }
}

// ----------------------------
// UI event listeners
// ----------------------------

// Example: Workout submission
document.getElementById("saveWorkoutBtn").addEventListener("click", async () => {
    const userId = "user123"; // Replace with dynamic user login
    const date = document.getElementById("workoutDate").value;
    const notes = document.getElementById("workoutNotes").value;
    const rows = getWorkoutRowsFromUI(); // Your existing function to read workout rows
    await sendWorkoutToAPI(userId, date, notes, rows);
});

// Daily log submission
document.getElementById("saveDailyBtn").addEventListener("click", async () => {
    const userId = "user123";
    const date = document.getElementById("dailyDate").value;
    const dailyLog = getDailyLogFromUI(); // Collect pain, warm, tired, etc.
    await sendDailyToAPI(userId, date, dailyLog);
});

// Nutrition submission
document.getElementById("saveNutritionBtn").addEventListener("click", async () => {
    const userId = "user123";
    const date = document.getElementById("nutritionDate").value;
    const nutrition = getNutritionFromUI(); // Collect calories, weight, steps, macros, sleep
    await sendNutritionToAPI(userId, date, nutrition);
});

// Cardio submission
document.getElementById("saveCardioBtn").addEventListener("click", async () => {
    const userId = "user123";
    const date = document.getElementById("cardioDate").value;
    const cardio = getCardioFromUI(); // Collect exercise, minutes, speed, incline, hr_avg
    await sendCardioToAPI(userId, date, cardio);
});
